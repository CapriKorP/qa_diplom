# План автоматизации тестирования

## Перечень автоматизируемых сценариев
### Тестовые данные
1. Номер карты: состоит из 16 цифр в формате ХХХХ ХХХХ ХХХХ ХХХХ.
2. Месяц срока действия: состоит из двух символов, число от 01 до 12. Если срок действия заканчивается в текущем году, то месяц не может быть меньше чем текущий.
3. Год срока действия: два символа, число от последних двух цифр текущего года до 99.
4. Держатель карты: две группы символов, исключительно на латинице в формате NAME SURNAME.
5. CVV/CVC: состоит их 3 цифр в формате ХХХ.

  <details>
  <summary>Валидные данные</summary>  

* Карта:  

` 4444 4444 4444 4441 ` - возвращает статус `APPROVED` 

` 4444 4444 4444 4442 ` - возвращает статус `DECLINED`

* Месяц: `01`-`12`
* Год: `текущий` - `текущий + 5 лет`
* Держатель карты: `IVAN IVANOV`, `PETR PETROV`
* CVV/CVC: `000`-`999`

</details>

<details>
  <summary>Невалидные данные</summary>  

* Карта:
`0000 0000 0000 0000`, `9999 9999 9999 9999`, `4444 4444 4444 4440`, `4444 4444 4444 4443`,
  `1234 5678 9012 3456`.

* Месяц: `0`-`9`,`00`,`13`-`99`
* Год: `00`-`22`
* Держатель карты: `ИВАН ИВАНОВ`, `PETR PETROV11`, `PETRUXA`, `ب ج د ﻩ و ز ح ط ي ك ل م ن س ع ف صر `,`P#TRUX@`, `PETR PETROVICH PETROV`
* CVV/CVC: `0`-`9`, `00`-`99`,

</details>

### Тестовые сценарии

*Позитивные*

1. Успешная оплата.
   Оплата картой `4444 4444 4444 4441`, используются валидные CVV/CVC, держатель карты, месяц и год срока действия.
Ожидаемвый результат: поп ап "Операция одобрена банком", запись APPROVED в БД.
2. Успешное оформление кредита.
   Оформление кредита по карте `4444 4444 4444 4441`, используются валидные CVV/CVC, держатель карты, месяц и год срока действия.
   Ожидаемвый результат: поп ап "Операция одобрена банком", запись `APPROVED` в БД.
3. Отказ в оплате. 
   Оплата картой `4444 4444 4444 4442`, используются валидные CVV/CVC, держатель карты, месяц и год срока действия.
   Ожидаемвый результат: поп ап "Операция одобрена банком", запись `DECLINED` в БД.
4. Отказ в оформлении кредита.
   Оформление кредита по карте `4444 4444 4444 4442`, используются валидные CVV/CVC, держатель карты, месяц и год срока действия.
   Ожидаемвый результат: поп ап "Операция одобрена банком", запись `DECLINED` в БД.

*Негативный*

1. Оплата по несуществующей карте   
   Номер карты 4444 4444 4444 4443, остальные поля заполнены корректными значениями  
   Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД новая запись не появилась

2. Кредит по данным несуществующей карты   
   Номер карты 4444 4444 4444 4443, остальные поля заполнены корректными значениями  
   Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции", в БД новая запись не появилась

3. Оплата по карте, указан невалидный номер   
   Номер карты 4444 4444 4444 444, остальные поля заполнены корректными значениями  
   Ожидаемый результат: под полем Номер карты появилось сообщение об ошибке "Неверный формат", в БД новая запись не появилась

4. Кредит по данным карты, указан невалидный номер    
   Номер карты 4444 4444 4444 444, остальные поля заполнены корректными значениями  
   Ожидаемый результат: под полем Номер карты появилось сообщение об ошибке "Неверный формат", в БД новая запись не появилась

5. Оплата по карте с истекшим сроком действия (месяц)  
   Номер карты 4444 4444 4444 4441, указать предыдущий месяц, текущий год, остальные поля заполнены корректными значениями  
   Ожидаемый результат: под полем Месяц появилось сообщение об ошибке "Неверно указан срок действия карты", в БД новая запись не появилась

6. Кредит по данным карты с истекшим сроком действия (месяц)  
   Номер карты 4444 4444 4444 4441, указать предыдущий месяц, текущий год, остальные поля заполнены корректными значениями  
   Ожидаемый результат: под полем Месяц появилось сообщение об ошибке "Неверно указан срок действия карты", в БД новая запись не появилась

7. Оплата по данным карты, указан невалидный месяц   
   Номер карты 4444 4444 4444 4441, в поле Месяц указать 00, остальные поля заполнены корректными значениями  
   Ожидаемый результат: под полем Месяц появилось сообщение об ошибке "Неверно указан срок действия карты", в БД новая запись не появилась

8. Кредит по данным карты, указан невалидный месяц   
   Номер карты 4444 4444 4444 4441, в поле Месяц указать 00, остальные поля заполнены корректными значениями  
   Ожидаемый результат: под полем Месяц появилось сообщение об ошибке "Неверно указан срок действия карты", в БД новая запись не появилась

9. Оплата по карте с истекшим сроком действия (год)  
   Номер карты 4444 4444 4444 4441, указать предыдущий год, остальные поля заполнены корректными значениями  
   Ожидаемый результат: под полем Год появилось сообщение об ошибке "Истёк срок действия карты", в БД новая запись не появилась

10. Кредит по данным карты с истекшим сроком действия (год)  
   Номер карты 4444 4444 4444 4441, указать предыдущий год, остальные поля заполнены корректными значениями  
   Ожидаемый результат: под полем Год появилось сообщение об ошибке "Истёк срок действия карты", в БД новая запись не появилась

11. Оплата по данным карты, указан невалидный год   
   Номер карты 4444 4444 4444 4441, в поле Год указать "последние две цифры текущего года + 5", остальные поля заполнены корректными значениями  
   Ожидаемый результат: под полем Год появилось сообщение об ошибке "Неверно указан срок действия карты", в БД новая запись не появилась

12. Кредит по данным карты, указан невалидный год   
   Номер карты 4444 4444 4444 4441, в поле Год указать "последние две цифры текущего года + 5", остальные поля заполнены корректными значениями  
   Ожидаемый результат: под полем Год появилось сообщение об ошибке "Неверно указан срок действия карты", в БД новая запись не появилась

13. Оплата по данным карты, указано некорректное значение в поле Владелец  
   Номер карты 4444 4444 4444 4441, в поле Владелец указать некорректные данные, остальные поля заполнены корректными значениями  
   Ожидаемый результат: под полем Владелец появилось сообщение об ошибке, в БД новая запись не появилась

14. Кредит по данным карты, указано некорректное значение в поле Владелец   
   Номер карты 4444 4444 4444 4441, в поле Владелец указать некорректные данные, остальные поля заполнены корректными значениями  
   Ожидаемый результат: под полем Владелец появилось сообщение об ошибке, в БД новая запись не появилась

15. Оплата по данным карты, указано некорректное значение в поле CVC/CVV   
   Номер карты 4444 4444 4444 4441, в поле CVC/CVV указать 0, остальные поля заполнены корректными значениями  
   Ожидаемый результат: под полем CVC/CVV появилось сообщение об ошибке "Неверный формат", в БД новая запись не появилась

16. Кредит по данным карты, указано некорректное значение в поле CVC/CVV   
   Номер карты 4444 4444 4444 4441, в поле CVC/CVV указать 0, остальные поля заполнены корректными значениями  
   Ожидаемый результат: под полем CVC/CVV появилось сообщение об ошибке "Неверный формат", в БД новая запись не появилась


## Используемые инструменты
1. *IntelliJ IDEA* - IDE для работы с кодом.
2. *Java* - язык программирования.
3. *Gradle* - система автоматизации сборки приложения.
4. *JUnit5* - фреймворк для модульного тестирования.
5. *Selenide* - фреймворк для написания и выполнения UI тестов.
6. *Allure Framework* – построение детализированных отчетов о тестировании.  
7. *Docker* - инструмент для контейнеризации банковских сервисов и БД: MySQL, PostgreSQL.
8. *Git* - локальное хранение репозитория.
9. *GitHub* - удаленное хранение репозитория, публикация проекта.

## Возможные риски
1. Изменения в коде приведут в падению тестов.
2. Отсутсвует документация на приложение. При тестировании возможно неверное трактование функционала.
3. Большое количество дефектов в функциональности приложения.
4. Проблемы с тестовым окружением.
5. Неверные тестовые данные.
6. Использования двух СУБД.

## Планируемое время выполнения задания с учётом рисков (в часах)
1. Знакомство с проектом - 2 часа.
2. Составление плана автоматизации - 8 часа.
3. Написание автотестов - 40 часа.
4. Подготовка окружения, развертывание БД - 8 часов.
5. Формирование и анализ отчетов - 8 часов  .
__Итого: 66 часов__

## Ожидаемые даты выполнения этапов проекта
1. План автоматизации тестирования - 13.06.2023 г.
2. Написание и отладка авто-тестов - 23.06.2023 г.
3. Подготовка и оформление репортов - 26.06.2023 г.
4. Отчеты по тестированию и автоматизации тестирования - 28.06.2023 г.
5. Доработка и устранение замечаний - 05.07.2023 г.




